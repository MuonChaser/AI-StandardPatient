# AI-StandardPatient

![AI-StandardPatient](assets/fig.png)

ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ ‡å‡†åŒ–ç—…äººï¼ˆStandardized Patient, SPï¼‰ç³»ç»Ÿï¼Œç”¨äºåŒ»å­¦æ•™è‚²å’Œä¸´åºŠæŠ€èƒ½è®­ç»ƒã€‚

## é¡¹ç›®ç®€ä»‹

AI-StandardPatient æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„æ ‡å‡†åŒ–ç—…äººæ¨¡æ‹Ÿç³»ç»Ÿï¼Œèƒ½å¤Ÿï¼š
- æ ¹æ®é¢„è®¾çš„ç—…å†ä¿¡æ¯æ‰®æ¼”ç‰¹å®šç–¾ç—…çš„ç—…äºº
- ä¸åŒ»å­¦ç”Ÿæˆ–åŒ»ç”Ÿè¿›è¡Œè‡ªç„¶çš„å¯¹è¯äº¤æµ
- æ¨¡æ‹ŸçœŸå®çš„ç—…äººè¡Œä¸ºå’Œç—‡çŠ¶è¡¨è¾¾
- æ”¯æŒå¤šç§ç–¾ç—…åœºæ™¯çš„é…ç½®

## åŠŸèƒ½ç‰¹æ€§

### ğŸ­ è§’è‰²æ‰®æ¼”
- åŸºäºç—…å†æ•°æ®è¿›è¡ŒçœŸå®çš„ç—…äººè§’è‰²æ‰®æ¼”
- æ™ºèƒ½è¡¨è¾¾ç—‡çŠ¶ï¼Œé¿å…ç›´æ¥é€éœ²è¯Šæ–­
- æ”¯æŒä¸ªæ€§åŒ–ç‰¹è´¨æ¨¡æ‹Ÿ

### ğŸ“‹ æ ‡å‡†åŒ–æ•°æ®æ ¼å¼
- å®šä¹‰æ ‡å‡†çš„SP JSONæ ¼å¼
- æ”¯æŒä»è‡ªç„¶è¯­è¨€ç—…å†è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®
- åŒ…å«åŸºæœ¬ä¿¡æ¯ã€ç—‡çŠ¶ã€éšè—ä¿¡æ¯ç­‰å®Œæ•´ç—…å†è¦ç´ 

### ğŸ¤– æ™ºèƒ½å¯¹è¯
- åŸºäºOpenAI GPTæ¨¡å‹çš„è‡ªç„¶è¯­è¨€äº¤äº’
- è®°å¿†å¯¹è¯ä¸Šä¸‹æ–‡
- æ ¹æ®åŒ»ç”Ÿé—®é¢˜æ™ºèƒ½å›åº”

### âš™ï¸ çµæ´»é…ç½®
- æ”¯æŒå¤šç§å¤§è¯­è¨€æ¨¡å‹åç«¯
- å¯é…ç½®çš„ç¯å¢ƒå˜é‡è®¾ç½®
- æ¨¡å—åŒ–çš„å¼•æ“æ¶æ„

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- OpenAI APIå¯†é’¥æˆ–å…¼å®¹çš„APIæœåŠ¡

### å®‰è£…ä¾èµ–
```bash
pip install openai
```

### é…ç½®ç¯å¢ƒå˜é‡
æ ¹æ®ä½ ä½¿ç”¨çš„APIæœåŠ¡é€‰æ‹©å¯¹åº”çš„é…ç½®è„šæœ¬ï¼š

```bash
# ä½¿ç”¨OpenAIå®˜æ–¹API
source tools/SET_OPENAI.sh

# æˆ–ä½¿ç”¨DeepSeek API
source tools/SET_DEEPSEEK.sh
```

### è¿è¡Œç¤ºä¾‹
```bash
python sp.py
```

## é¡¹ç›®ç»“æ„

```
AI-StandardPatient/
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ sp.py                  # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ sp_data.py             # SPæ•°æ®ç»“æ„å®šä¹‰
â”œâ”€â”€ base_agent.py          # åŸºç¡€AgentæŠ½è±¡ç±»
â”œâ”€â”€ engine/                # è¯­è¨€æ¨¡å‹å¼•æ“
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_engine.py     # å¼•æ“åŸºç±»
â”‚   â””â”€â”€ gpt.py            # GPTå¼•æ“å®ç°
â”œâ”€â”€ presets/               # é¢„è®¾ç—…ä¾‹æ•°æ®
â”‚   â””â”€â”€ test.json         # ç¤ºä¾‹ç—…ä¾‹
â”œâ”€â”€ tools/                 # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ generate_sp_json.py  # JSONç”Ÿæˆå·¥å…·
â”‚   â”œâ”€â”€ SET_OPENAI.sh     # OpenAIé…ç½®è„šæœ¬
â”‚   â””â”€â”€ SET_DEEPSEEK.sh   # DeepSeeké…ç½®è„šæœ¬
â””â”€â”€ assets/               # èµ„æºæ–‡ä»¶
    â””â”€â”€ fig.pdf           # é¡¹ç›®å›¾è¡¨
```

## æ•°æ®æ ¼å¼

### SP JSON æ ¼å¼è§„èŒƒ

SPæ•°æ®åŒ…å«ä»¥ä¸‹ä¸»è¦å­—æ®µï¼š

```json
{
    "basics": {
        "name": "æ‚£è€…å§“å",
        "æ€§åˆ«": "ç”·/å¥³",
        "å¹´é¾„": 40,
        "å©šå§»çŠ¶å†µ": "å·²å©š",
        "èŒä¸š": "èŒä¸šæè¿°",
        "è”ç³»æ–¹å¼": "ç”µè¯å·ç ",
        "åœ°å€": "ä½å€"
    },
    "disease": "ç–¾ç—…åç§°",
    "symptoms": ["ä¸»è¦ç—‡çŠ¶1", "ä¸»è¦ç—‡çŠ¶2"],
    "symptom_details": {
        "ç—‡çŠ¶è¯¦æƒ…": "å…·ä½“æè¿°"
    },
    "medical_history": {
        "æ—¢å¾€ç—…å²": "ç—…å²æè¿°",
        "æ‰‹æœ¯å²": "æ‰‹æœ¯å†å²"
    },
    "hidden_info": {
        "é—®é¢˜": "å¯¹åº”å›ç­”"
    },
    "personalities": ["æ€§æ ¼ç‰¹å¾1", "æ€§æ ¼ç‰¹å¾2"]
}
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬å¯¹è¯ç¤ºä¾‹

```python
from engine.gpt import GPTEngine
from sp_data import Sp_data

# åŠ è½½ç—…ä¾‹æ•°æ®
sp_data = Sp_data()
sp_data.load_from_json("presets/test.json")

# åˆ›å»ºSPå®ä¾‹
sp = SP(sp_data, GPTEngine())

# å¼€å§‹å¯¹è¯
response = sp.speak("æ‚¨å¥½ï¼Œè¯·é—®æ‚¨å“ªé‡Œä¸èˆ’æœï¼Ÿ")
print(f"ç—…äºº: {response}")
```

### è‡ªå®šä¹‰ç—…ä¾‹

ä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„ç—…ä¾‹JSONæ–‡ä»¶ï¼Œå‚è€ƒ `presets/test.json` çš„æ ¼å¼ã€‚

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

- `API_KEY`: å¤§è¯­è¨€æ¨¡å‹APIå¯†é’¥
- `MODEL_BASE`: APIåŸºç¡€URL
- `MODEL_NAME`: ä½¿ç”¨çš„æ¨¡å‹åç§°

### æ”¯æŒçš„æ¨¡å‹

- OpenAI GPTç³»åˆ—æ¨¡å‹
- å…¶ä»–å…¼å®¹OpenAI APIçš„æ¨¡å‹æœåŠ¡

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„å¼•æ“

1. åœ¨ `engine/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å¼•æ“æ–‡ä»¶
2. ç»§æ‰¿ `Engine` åŸºç±»
3. å®ç° `get_response` æ–¹æ³•

### æ‰©å±•æ•°æ®æ ¼å¼

1. ä¿®æ”¹ `sp_data.py` ä¸­çš„ `Sp_data` ç±»
2. æ·»åŠ æ–°çš„å±æ€§å’Œå¯¹åº”çš„setter/getter
3. æ›´æ–°JSONæ ¼å¼è§„èŒƒ

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æºã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®é“¾æ¥: [https://github.com/MuonChaser/AI-StandardPatient](https://github.com/MuonChaser/AI-StandardPatient)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/MuonChaser/AI-StandardPatient/issues)

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºåŒ»å­¦æ•™è‚²æ•°å­—åŒ–åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’ŒåŒ»å­¦ä¸“å®¶ã€‚